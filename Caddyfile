# Replace with your domain, or use :80 for IP-only access
:80 {
	# Serve uploaded files directly (faster than going through Node)
	handle /uploads/* {
		root * /srv
		file_server
	}

	# Proxy everything else to the SvelteKit app
	handle {
		reverse_proxy app:3000
	}
}

# When you have a domain, replace the block above with:
# yourdomain.com {
#     handle /uploads/* {
#         root * /srv
#         file_server
#     }
#     handle {
#         reverse_proxy app:3000
#     }
# }
# Caddy will automatically get and renew HTTPS certificates.
